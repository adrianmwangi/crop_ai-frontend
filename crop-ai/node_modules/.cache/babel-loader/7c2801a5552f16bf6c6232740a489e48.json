{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\rianw\\\\Dev Projects\\\\crop-ai\\\\frontend\\\\crop-ai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\rianw\\\\Dev Projects\\\\crop-ai\\\\frontend\\\\crop-ai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\rianw\\\\Dev Projects\\\\crop-ai\\\\frontend\\\\crop-ai\\\\src\\\\Result.js\";\nimport React, { useEffect, useState } from 'react';\nimport { collection, onSnapdhot, onSnapshot, orderBy, query } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\nexport default function Result() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      posts = _useState2[0],\n      setPosts = _useState2[1];\n\n  useEffect(function () {\n    var collectionRef = collection(db, \"upload\");\n    var quer = query(collectionRef, orderBy(\"timestamp\", \"desc\"));\n    var unsubscribe = onSnapshot(quer, function (querySnapshot) {\n      setPosts(querySnapshot.docs.map(function (doc) {\n        return _objectSpread({}, doc.data(), {\n          id: doc.id,\n          timestamp: doc.data().timestamp?.toDate()\n        });\n      }));\n    });\n    return unsubscribe;\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, posts.map(function (post) {\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      key: post.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }\n    }, post.caption));\n  }));\n}","map":{"version":3,"names":["React","useEffect","useState","collection","onSnapdhot","onSnapshot","orderBy","query","db","Result","posts","setPosts","collectionRef","quer","unsubscribe","querySnapshot","docs","map","doc","data","id","timestamp","toDate","post","caption"],"sources":["C:/Users/rianw/Dev Projects/crop-ai/frontend/crop-ai/src/Result.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport {collection, onSnapdhot, onSnapshot, orderBy, query} from \"firebase/firestore\";\r\nimport {db} from \"./firebase\"\r\n\r\nexport default function Result() {\r\n    const [posts, setPosts] = useState([])\r\n\r\n    useEffect(()=>{\r\n        const collectionRef = collection(db,\"upload\");\r\n        const quer = query(collectionRef,orderBy(\"timestamp\", \"desc\"))\r\n        const unsubscribe = onSnapshot(quer, (querySnapshot)=>{\r\n            setPosts(querySnapshot.docs.map(doc =>({...doc.data(), id: doc.id, timestamp: doc.data().timestamp?.toDate()})))\r\n        })\r\n        return unsubscribe\r\n    } , [])\r\n\r\n  return (\r\n    <div>{\r\n\r\n        posts.map(post =>{\r\n            <div key={post.id}>\r\n                <div>{post.caption}</div>\r\n                </div>\r\n\r\n        })\r\n        \r\n        \r\n        }</div>\r\n  )\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAAQC,UAAR,EAAoBC,UAApB,EAAgCC,UAAhC,EAA4CC,OAA5C,EAAqDC,KAArD,QAAiE,oBAAjE;AACA,SAAQC,EAAR,QAAiB,YAAjB;AAEA,eAAe,SAASC,MAAT,GAAkB;EAAA;;EAAA,gBACHP,QAAQ,CAAC,EAAD,CADL;EAAA;EAAA,IACtBQ,KADsB;EAAA,IACfC,QADe;;EAG7BV,SAAS,CAAC,YAAI;IACV,IAAMW,aAAa,GAAGT,UAAU,CAACK,EAAD,EAAI,QAAJ,CAAhC;IACA,IAAMK,IAAI,GAAGN,KAAK,CAACK,aAAD,EAAeN,OAAO,CAAC,WAAD,EAAc,MAAd,CAAtB,CAAlB;IACA,IAAMQ,WAAW,GAAGT,UAAU,CAACQ,IAAD,EAAO,UAACE,aAAD,EAAiB;MAClDJ,QAAQ,CAACI,aAAa,CAACC,IAAd,CAAmBC,GAAnB,CAAuB,UAAAC,GAAG;QAAA,yBAAQA,GAAG,CAACC,IAAJ,EAAR;UAAoBC,EAAE,EAAEF,GAAG,CAACE,EAA5B;UAAgCC,SAAS,EAAEH,GAAG,CAACC,IAAJ,GAAWE,SAAX,EAAsBC,MAAtB;QAA3C;MAAA,CAA1B,CAAD,CAAR;IACH,CAF6B,CAA9B;IAGA,OAAOR,WAAP;EACH,CAPQ,EAOL,EAPK,CAAT;EASF,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEIJ,KAAK,CAACO,GAAN,CAAU,UAAAM,IAAI,EAAG;IACb;IAAA;MAAK,GAAG,EAAEA,IAAI,CAACH,EAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAMG,IAAI,CAACC,OAAX,CADJ;EAIH,CALD,CAFJ,CADF;AAaD"},"metadata":{},"sourceType":"module"}