{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\rianw\\\\Dev Projects\\\\crop-ai\\\\frontend\\\\crop-ai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\rianw\\\\Dev Projects\\\\crop-ai\\\\frontend\\\\crop-ai\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\rianw\\\\Dev Projects\\\\crop-ai\\\\frontend\\\\crop-ai\\\\src\\\\Result.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { collection, onSnapdhot, onSnapshot, orderBy, query } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\nexport default function Result() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      posts = _useState2[0],\n      setPosts = _useState2[1];\n\n  useEffect(function () {\n    var collectionRef = collection(db, \"upload\");\n    var quer = query(collectionRef, orderBy(\"timestamp\", \"desc\"));\n    var unsubscribe = onSnapshot(quer, function (querySnapshot) {\n      setPosts(querySnapshot.docs.map(function (doc) {\n        return _objectSpread({}, doc.data(), {\n          id: doc.id,\n          timestamp: doc.data().timestamp.toDate()\n        });\n      }));\n    });\n    return unsubscribe;\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, posts.map(function (post) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: post.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, post.caption)));\n  }));\n}","map":{"version":3,"names":["React","useEffect","useState","collection","onSnapdhot","onSnapshot","orderBy","query","db","Result","posts","setPosts","collectionRef","quer","unsubscribe","querySnapshot","docs","map","doc","data","id","timestamp","toDate","post","caption"],"sources":["C:/Users/rianw/Dev Projects/crop-ai/frontend/crop-ai/src/Result.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  collection,\r\n  onSnapdhot,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"./firebase\";\r\n\r\nexport default function Result() {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const collectionRef = collection(db, \"upload\");\r\n    const quer = query(collectionRef, orderBy(\"timestamp\", \"desc\"));\r\n    const unsubscribe = onSnapshot(quer, (querySnapshot) => {\r\n      setPosts(\r\n        querySnapshot.docs.map((doc) => ({\r\n          ...doc.data(),\r\n          id: doc.id,\r\n          timestamp: doc.data().timestamp.toDate(),\r\n        }))\r\n      );\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {posts.map(post => <div key={post.id}>\r\n        <div>\r\n            <span>{post.caption}</span>\r\n        </div>\r\n      </div>)}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SACEC,UADF,EAEEC,UAFF,EAGEC,UAHF,EAIEC,OAJF,EAKEC,KALF,QAMO,oBANP;AAOA,SAASC,EAAT,QAAmB,YAAnB;AAEA,eAAe,SAASC,MAAT,GAAkB;EAAA;;EAAA,gBACLP,QAAQ,CAAC,EAAD,CADH;EAAA;EAAA,IACxBQ,KADwB;EAAA,IACjBC,QADiB;;EAG/BV,SAAS,CAAC,YAAM;IACd,IAAMW,aAAa,GAAGT,UAAU,CAACK,EAAD,EAAK,QAAL,CAAhC;IACA,IAAMK,IAAI,GAAGN,KAAK,CAACK,aAAD,EAAgBN,OAAO,CAAC,WAAD,EAAc,MAAd,CAAvB,CAAlB;IACA,IAAMQ,WAAW,GAAGT,UAAU,CAACQ,IAAD,EAAO,UAACE,aAAD,EAAmB;MACtDJ,QAAQ,CACNI,aAAa,CAACC,IAAd,CAAmBC,GAAnB,CAAuB,UAACC,GAAD;QAAA,yBAClBA,GAAG,CAACC,IAAJ,EADkB;UAErBC,EAAE,EAAEF,GAAG,CAACE,EAFa;UAGrBC,SAAS,EAAEH,GAAG,CAACC,IAAJ,GAAWE,SAAX,CAAqBC,MAArB;QAHU;MAAA,CAAvB,CADM,CAAR;IAOD,CAR6B,CAA9B;IASA,OAAOR,WAAP;EACD,CAbQ,EAaN,EAbM,CAAT;EAeA,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGJ,KAAK,CAACO,GAAN,CAAU,UAAAM,IAAI;IAAA,oBAAI;MAAK,GAAG,EAAEA,IAAI,CAACH,EAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACjB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAOG,IAAI,CAACC,OAAZ,CADJ,CADiB,CAAJ;EAAA,CAAd,CADH,CADF;AASD"},"metadata":{},"sourceType":"module"}